//::///////////////////////////////////////////////
//:: Custom User Defined Event
//:: FileName
//:: Copyright (c) 2001 Bioware Corp.
//:://////////////////////////////////////////////
//:: Created By: Sebastien Raymond
//:: Created On: October 2006
//:://////////////////////////////////////////////

void main()
{
    int nUser = GetUserDefinedEventNumber();

    if(nUser == 1001) //HEARTBEAT
    {
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
    }
    else if(nUser == 1002) // PERCEIVE
    {
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
    }
    else if(nUser == 1003) // END OF COMBAT
    {
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
    }
    else if(nUser == 1004) // ON DIALOGUE
    {
////////////////////////////////////////////////////////////////////////////////
object oShouter = GetLastSpeaker();
{
 if (GetIsObjectValid(GetNearestObjectByTag("NW_TAVERN")) == TRUE)
 if (GetCommandable(OBJECT_SELF))
 {
  BeginConversation("z3_npc_innconv");
 }
 if (GetIsObjectValid(GetNearestObjectByTag("NW_SHOP")) == TRUE)
 if (GetCommandable(OBJECT_SELF))
 {
  BeginConversation("z3_npc_shopconv");
 }
 if (GetIsObjectValid(GetNearestObjectByTag("NW_TOWN")) == TRUE)
 if (GetCommandable(OBJECT_SELF))
 {
  BeginConversation("z3_npc_townconv");
  }
 if (GetIsObjectValid(GetNearestObjectByTag("NW_HOME")) == TRUE)
 if (GetCommandable(OBJECT_SELF))
 {
  BeginConversation("z3_npc_homeconv");
////////////////////////////////////////////////////////////////////////////////
    }
    else if(nUser == 1005) // ATTACKED
    {
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
    }
    else if(nUser == 1006) // DAMAGED
    {
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
    }
    else if(nUser == 1007) // DEATH
    {
////////////////////////////////////////////////////////////////////////////////
object oKiller = GetLastKiller();
if (!GetIsPC(oKiller)) return;

int nClass = GetLevelByClass(CLASS_TYPE_COMMONER);
int nAlign = GetAlignmentGoodEvil(OBJECT_SELF);
// If we're a good/neutral commoner,
// adjust the killer's alignment evil
if(nClass > 0 && (nAlign == ALIGNMENT_GOOD || nAlign == ALIGNMENT_NEUTRAL))
{
AdjustReputation(oKiller, OBJECT_SELF, -1);
//AddJournalQuestEntry("peoplekillby_opc", 1, oKiller, FALSE, FALSE, TRUE);
int nInt;
nInt = GetLocalInt(oKiller, "peoplekillby_opc");
nInt += 1;
SetLocalInt(oKiller, "peoplekillby_opc", nInt);
AssignCommand(oKiller, ActionSpeakString("Si je tue des innocents, je vais probablement me faire intercepter par les autorit√©es locales.", TALKVOLUME_WHISPER));
////////////////////////////////////////////////////////////////////////////////
    }
    else if(nUser == 1008) // DISTURBED
    {
////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////////////
    }

}
}
}
}